<section data-ng-controller="PurchasesController" data-ng-init="getStats('30')">
    <div class="page-header">
        <h1>Purchases</h1>
    </div>
    <h4> Select the period : </h4>
    <div class="btn-group">
        <label class="btn btn-default" ng-model="radioModel" btn-radio="30"
            ng-change="getStats(radioModel)">30 days</label>
        <label class="btn btn-default" ng-model="radioModel" btn-radio="7"
            ng-change="getStats(radioModel)">07 days</label>
        <label class="btn btn-default" ng-model="radioModel" btn-radio="1"
            ng-change="getStats(radioModel)">01 days</label>
    </div>
    <h2>Total profit for selected period ({{days}} days) : {{stats.totalAmount}} $</h2>
    <h2>Most three profitable apps for selected period ({{days}} days)</h2>

    <div class="list-group">
        <a data-ng-repeat="application in stats.bestApps"
            data-ng-href="#!/applications/{{application._id}}" class="list-group-item">
            <small class="list-group-item-text">
                App id 
                <span data-ng-bind="application.value.name"></span>
                App amount 
                <span data-ng-bind="application.value.amount"></span>
            </small>
            <img height=50 width=50 style="float: left; margin-right: 1em;"
                ng-src="/files/{{application.value.logo}}"></img>
            <h3 class="list-group-item-heading"
                data-ng-bind="application.value.name"></h3>
        </a>
    </div>
    <div class="alert alert-warning text-center" data-ng-hide="!stats.$resolved || stats.bestApps.length">
    	No Purchases yet, why don't you <a href="/#!/applications">buy an app</a>?
    </div>
</section>
